# 俄语UI优化解决方案

## 问题描述
俄语文本通常比中文和英文长30%-50%，容易导致：
- 按钮文本溢出
- 表格列宽不够
- 导航栏拥挤
- 标签和徽章换行不美观

## 解决方案

### 1️⃣ 动态语言检测
**文件**: `templates/base_industrial.html`

已实现：
- HTML标签的`lang`属性根据当前语言动态设置
- CSS使用`html[lang="ru_RU"]`选择器针对俄语优化

```html
<html lang="{{ get_locale()|string|replace('_', '-') }}">
```

### 2️⃣ 俄语专用CSS优化

**自动应用的优化**（无需手动设置）：

#### 字体大小调整
- 全局字体：15px → 14px
- 按钮文本：0.8125rem → 0.75rem
- 表格文本：0.9rem → 0.8rem
- 标签文本：0.8125rem → 0.75rem

#### 间距优化
- 按钮padding：0.625rem 1.5rem → 0.5rem 1rem
- 导航链接padding：0.5rem 0.85rem → 0.4rem 0.7rem
- 表格单元格padding：0.75rem → 0.6rem 0.5rem

#### 文本换行
- 所有表格单元格：自动换行
- 下拉菜单项：正常换行（不截断）
- 徽章标签：允许换行，居中显示

#### 响应式调整
在小屏幕上（<1400px）进一步缩小：
- 表格字体：0.75rem
- 按钮字体：0.7rem

### 3️⃣ 具体优化项

| 元素 | 中文/英文 | 俄语优化 |
|------|-----------|----------|
| 全局字体 | 15px | 14px |
| 导航链接 | 0.85rem | 0.75rem |
| 按钮 | 0.8125rem | 0.75rem |
| 小按钮 | 0.75rem | 0.7rem |
| 表格 | 0.9rem | 0.8rem |
| 徽章 | 0.8rem | 0.7rem |
| 表单标签 | 0.8125rem | 0.75rem |
| 面包屑 | 0.8125rem | 0.75rem |
| 页面标题 | 1.625rem | 1.4rem |

### 4️⃣ 特殊处理

#### 长文本自动换行
```css
word-wrap: break-word;
word-break: break-word;
hyphens: auto;
```

#### 下拉菜单
- 最小宽度：220px → 280px
- 项目：允许换行

#### 卡片标题
- 设置最小高度确保对齐
- 允许多行显示

## 使用建议

### 1. 编写翻译时的注意事项

**尽量使用简洁的俄语表达：**

❌ 不好的翻译（过长）：
```
"管理工艺和非工艺系统基本信息" 
→ "Управление базовой информацией технологических и нетехнологических систем"
```

✅ 更好的翻译（简洁）：
```
"管理工艺和非工艺系统基本信息"
→ "Управление системами" (系统管理)
```

### 2. 表格列宽建议

对于包含俄语的表格，建议的最小列宽：

| 内容类型 | 中文/英文 | 俄语 |
|---------|----------|------|
| ID/代码 | 100px | 120px |
| 简短描述 | 150px | 180px |
| 详细描述 | 220px | 280px |
| 状态/徽章 | 100px | 140px |
| 操作按钮 | 140px | 180px |

### 3. 按钮文本建议

**使用图标 + 简短文本：**

✅ 好的设计：
- `<i class="bi bi-pencil"></i> {{ _('编辑') }}`
- 俄语显示：✏️ Редактировать

❌ 避免：
- 纯文本长按钮（无图标）
- 超过3个词的按钮文本

### 4. 响应式布局测试

测试不同屏幕尺寸：
- 1920px（标准桌面）
- 1400px（小桌面）
- 1024px（平板横向）

### 5. 关键CSS类

#### 文本截断（可选）
对于确实需要单行显示的地方，添加：
```html
<span class="text-ellipsis" title="完整文本">{{ 长文本 }}</span>
```

#### 强制换行
对于允许换行的地方，添加：
```html
<span class="text-break-word">{{ 长文本 }}</span>
```

## 测试检查清单

在俄语界面下检查：

- [ ] 导航栏链接不重叠
- [ ] 按钮文本不溢出
- [ ] 表格列宽合适
- [ ] 下拉菜单完整显示
- [ ] 徽章标签美观
- [ ] 模态框标题不换行
- [ ] 面包屑导航清晰
- [ ] 表单标签完整可读
- [ ] 进度条标签不重叠
- [ ] 卡片标题对齐

## 浏览器兼容性

此方案支持：
- ✅ Chrome/Edge（现代浏览器）
- ✅ Firefox
- ✅ Safari
- ⚠️ IE11（部分CSS3特性不支持）

## 后续优化建议

### 1. 使用缩写
对于频繁出现的长词，考虑使用缩写：
- "Гидроиспытание" → "Гидроисп."
- "Предпусковые испытания" → "ПИ"

### 2. 调整UI布局
- 考虑增加页面最大宽度（1850px → 1920px）
- 使用更多垂直空间，减少水平拥挤

### 3. 响应式断点
为俄语添加专用断点：
```css
@media (max-width: 1600px) {
    html[lang="ru_RU"] .some-element {
        /* 进一步优化 */
    }
}
```

### 4. 字体选择
俄语推荐字体（已在系统中使用）：
- Roboto（优秀的西里尔字母支持）
- Arial（通用兼容）
- "Segoe UI"（Windows默认，良好的俄语支持）

## 已实施的优化

✅ HTML `lang` 属性动态设置  
✅ 全局字体缩小（俄语专用）  
✅ 所有按钮文本缩小  
✅ 表格自动换行  
✅ 导航栏文本优化  
✅ 下拉菜单自适应宽度  
✅ 徽章和标签允许换行  
✅ 响应式媒体查询  

## 测试方法

1. **切换到俄语界面**
2. **访问所有主要页面**，检查布局
3. **调整浏览器窗口大小**，测试响应式
4. **查看所有UI元素**：按钮、表格、卡片、导航栏等
5. **确认无文本溢出或重叠**

## 注意事项

- 这些优化仅在俄语界面生效
- 中文和英文界面保持原样
- 优化会在刷新浏览器后立即生效（无需重启应用）
- 所有优化都在 `base_industrial.html` 中集中管理

## 需要人工审查的翻译

建议请俄语母语人士审查以下术语的翻译准确性和简洁性：
- 专业术语（焊接、检测、试压等）
- 长描述性文本
- 技术规范相关术语

优化翻译可以显著改善UI表现。

